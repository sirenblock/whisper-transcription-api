# Database
DATABASE_URL="postgresql://user:password@localhost:5432/whisperapi"

# Redis (Required for Job Queue)
REDIS_URL="redis://localhost:6379"
# For Redis with password: redis://:password@localhost:6379
# For Redis Cluster: redis://localhost:6379,redis://localhost:6380

# S3 / R2 Storage
S3_BUCKET="whisper-audio"
S3_REGION="us-east-1"
S3_ACCESS_KEY="your-access-key"
S3_SECRET_KEY="your-secret-key"
S3_ENDPOINT="https://xxx.r2.cloudflarestorage.com"  # Optional for Cloudflare R2

# Stripe Payment Processing
STRIPE_SECRET_KEY="sk_test_xxx"
STRIPE_WEBHOOK_SECRET="whsec_xxx"
STRIPE_PRICE_ID_PRO="price_xxx"

# Worker Configuration
WORKER_MODE="local"  # "local" or "cloud"
LOCAL_WORKER_URL="http://100.x.x.x:3001"  # Tailscale IP for Mac Mini
CLOUD_WORKER_URL="https://modal-xxx.modal.run"  # Modal cloud worker URL

# API Configuration
API_KEY_PREFIX="wtr_live_"
API_KEY_LENGTH=32
PORT=3000
NODE_ENV="development"

# Rate Limits (requests per hour)
RATE_LIMIT_FREE=3
RATE_LIMIT_PRO=20
RATE_LIMIT_PAYG=100

# Monthly Quotas (minutes)
QUOTA_FREE=60
QUOTA_PRO=600

# File Upload Limits
MAX_FILE_SIZE_MB=500
ALLOWED_FORMATS="mp3,wav,m4a,mp4,mpeg,webm"

# Job Queue Configuration
QUEUE_CONCURRENCY=2  # Number of concurrent jobs per worker
QUEUE_MAX_RETRIES=3  # Maximum retry attempts for failed jobs
QUEUE_RETRY_DELAY=5000  # Initial retry delay in ms (exponential backoff)

# Cleanup Configuration
FILE_RETENTION_HOURS=24  # Keep files for 24 hours
JOB_RETENTION_HOURS=24  # Keep completed jobs for 24 hours
FAILED_JOB_RETENTION_HOURS=168  # Keep failed jobs for 7 days
